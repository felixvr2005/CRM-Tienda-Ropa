#!/bin/bash

# =====================================================
# SCRIPT DE MIGRACIÃ“N - EJECUTAR EN SUPABASE SQL EDITOR
# =====================================================
# Ejecuta todos los scripts SQL necesarios en orden

echo "ðŸ“Š FashionStore - Migraciones de Base de Datos"
echo "=============================================="
echo ""
echo "Para ejecutar estas migraciones:"
echo ""
echo "1. Ir a Supabase Dashboard"
echo "2. Abrir SQL Editor"
echo "3. Copiar y ejecutar cada contenido en este orden:"
echo ""
echo "ORDEN DE EJECUCIÃ“N:"
echo "=================="
echo ""
echo "âœ… Paso 1: Ejecutar supabase/stock-functions.sql"
echo "   - Crea funciones para control de stock atÃ³mico"
echo "   - Funciones: decrease_stock, increase_stock, check_stock_availability"
echo ""
echo "âœ… Paso 2: Ejecutar supabase/configuracion-table.sql"
echo "   - Crea tabla para configuraciÃ³n del sistema"
echo "   - Campos: flash_sales_enabled, descuentos, envÃ­o gratis, etc."
echo ""
echo "âœ… Paso 3: Ejecutar supabase/contact-messages-table.sql"
echo "   - Crea tabla para mensajes de contacto"
echo "   - Habilita RLS para permitir inserciones del formulario"
echo ""
echo "=============================================="
echo ""
echo "NOTA: Estos archivos estÃ¡n en la carpeta supabase/"
echo "- stock-functions.sql"
echo "- configuracion-table.sql"
echo "- contact-messages-table.sql"
echo ""
echo "DespuÃ©s de ejecutar:"
echo "1. Verificar que no hay errores"
echo "2. Las tablas/funciones ya estarÃ¡n disponibles"
echo "3. Configurar webhook de Stripe en dashboard"
