import{c as d}from"./index.uR775ZKJ.mjs";const i="https://ghalawskrxauzpqyeote.supabase.co",m="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdoYWxhd3NrcnhhdXpwcXllb3RlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc4NTQ2NzksImV4cCI6MjA4MzQzMDY3OX0.f2BT3JZ6QdWY5zhc6h1qGYJ9VcYo6pncGD8OeUNcZyw",c=d(i,m),l=document.getElementById("resetForm"),e=document.getElementById("errorMessage"),o=document.getElementById("successMessage"),n=document.getElementById("submitBtn");c.auth.onAuthStateChange(async(a,t)=>{a==="PASSWORD_RECOVERY"&&console.log("Password recovery mode")});l?.addEventListener("submit",async a=>{a.preventDefault();const t=document.getElementById("password").value,r=document.getElementById("confirmPassword").value;if(e?.classList.add("hidden"),o?.classList.add("hidden"),t!==r){e.textContent="Las contraseñas no coinciden",e?.classList.remove("hidden");return}if(t.length<8){e.textContent="La contraseña debe tener al menos 8 caracteres",e?.classList.remove("hidden");return}n.disabled=!0,n.textContent="ACTUALIZANDO...";try{const{error:s}=await c.auth.updateUser({password:t});if(s)throw s;o.textContent="Contraseña actualizada correctamente. Redirigiendo...",o?.classList.remove("hidden"),setTimeout(()=>{window.location.href="/cuenta"},2e3)}catch(s){e.textContent=s.message||"Error al actualizar la contraseña",e?.classList.remove("hidden"),n.disabled=!1,n.textContent="ACTUALIZAR CONTRASEÑA"}});
